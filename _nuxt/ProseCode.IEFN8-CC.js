import{r as g,am as z,an as D,ao as F,M as k,I as B,ac as G,af as X,o as H,d as T,x as J,b as h,c as A,e as M,g as $,w as K,X as E,T as Q,n as O,a6 as U,p as Y,i as Z,k as L,t as ee,f as te,a5 as ne}from"./entry.uIHGwm26.js";function W(e){return D()?(F(e),!0):!1}function C(e){return typeof e=="function"?e():k(e)}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const oe=Object.prototype.toString,ae=e=>oe.call(e)==="[object Object]",S=()=>{},se=ie();function ie(){var e,t;return b&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ce(e){let t;function a(){return t||(t=e()),t}return a.reset=async()=>{const n=t;t=void 0,n&&await n},a}function re(e,t,a={}){const{immediate:n=!0}=a,i=g(!1);let o=null;function l(){o&&(clearTimeout(o),o=null)}function r(){i.value=!1,l()}function d(...p){l(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...p)},C(t))}return n&&(i.value=!0,b&&d()),W(r),{isPending:z(i),start:d,stop:r}}function w(e){var t;const a=C(e);return(t=a==null?void 0:a.$el)!=null?t:a}const N=b?window:void 0,R=b?window.navigator:void 0;function _(...e){let t,a,n,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,n,i]=e,t=N):[t,a,n,i]=e,!t)return S;Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]);const o=[],l=()=>{o.forEach(u=>u()),o.length=0},r=(u,f,s,c)=>(u.addEventListener(f,s,c),()=>u.removeEventListener(f,s,c)),d=G(()=>[w(t),C(i)],([u,f])=>{if(l(),!u)return;const s=ae(f)?{...f}:f;o.push(...a.flatMap(c=>n.map(m=>r(u,c,m,s))))},{immediate:!0,flush:"post"}),p=()=>{d(),l()};return W(p),p}let I=!1;function ue(e,t,a={}){const{window:n=N,ignore:i=[],capture:o=!0,detectIframe:l=!1}=a;if(!n)return S;se&&!I&&(I=!0,Array.from(n.document.body.children).forEach(s=>s.addEventListener("click",S)),n.document.documentElement.addEventListener("click",S));let r=!0;const d=s=>i.some(c=>{if(typeof c=="string")return Array.from(n.document.querySelectorAll(c)).some(m=>m===s.target||s.composedPath().includes(m));{const m=w(c);return m&&(s.target===m||s.composedPath().includes(m))}}),u=[_(n,"click",s=>{const c=w(e);if(!(!c||c===s.target||s.composedPath().includes(c))){if(s.detail===0&&(r=!d(s)),!r){r=!0;return}t(s)}},{passive:!0,capture:o}),_(n,"pointerdown",s=>{const c=w(e);r=!d(s)&&!!(c&&!s.composedPath().includes(c))},{passive:!0}),l&&_(n,"blur",s=>{setTimeout(()=>{var c;const m=w(e);((c=n.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>u.forEach(s=>s())}function le(){const e=g(!1);return X()&&H(()=>{e.value=!0}),e}function j(e){const t=le();return B(()=>(t.value,!!e()))}function P(e,t={}){const{controls:a=!1,navigator:n=R}=t,i=j(()=>n&&"permissions"in n);let o;const l=typeof e=="string"?{name:e}:e,r=g(),d=()=>{o&&(r.value=o.state)},p=ce(async()=>{if(i.value){if(!o)try{o=await n.permissions.query(l),_(o,"change",d),d()}catch{r.value="prompt"}return o}});return p(),a?{state:r,isSupported:i,query:p}:r}function de(e={}){const{navigator:t=R,read:a=!1,source:n,copiedDuring:i=1500,legacy:o=!1}=e,l=j(()=>t&&"clipboard"in t),r=P("clipboard-read"),d=P("clipboard-write"),p=B(()=>l.value||o),u=g(""),f=g(!1),s=re(()=>f.value=!1,i);function c(){l.value&&r.value!=="denied"?t.clipboard.readText().then(v=>{u.value=v}):u.value=q()}p.value&&a&&_(["copy","cut"],c);async function m(v=C(n)){p.value&&v!=null&&(l.value&&d.value!=="denied"?await t.clipboard.writeText(v):V(v),u.value=v,f.value=!0,s.start())}function V(v){const y=document.createElement("textarea");y.value=v??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function q(){var v,y,x;return(x=(y=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:y.toString())!=null?x:""}return{isSupported:p,text:u,copied:f,copy:m}}const pe=e=>(Y("data-v-c3e91f7c"),e=e(),Z(),e),fe=pe(()=>M("span",{class:"sr-only"},"Copy to clipboard",-1)),me={class:"icon-wrapper"},ve=T({__name:"ProseCodeCopyButton",props:{content:{type:String,default:""},show:{type:Boolean,default:!1}},setup(e){const t=e,a=g(),{copy:n}=de();ue(a,()=>{o.value==="copied"&&(o.value="init")});const{prose:i}=J(),o=g("init"),l=r=>{n(t.content).then(()=>{o.value="copied"}).catch(d=>{console.warn("Couldn't copy to clipboard!",d)})};return(r,d)=>{const p=U;return h(),A("button",{ref_key:"copyButtonRef",ref:a,class:O([(e.show||o.value==="copied")&&"show"]),onClick:l},[fe,M("span",me,[$(Q,{name:"fade"},{default:K(()=>{var u,f;return[o.value==="copied"?(h(),E(p,{key:0,name:(u=k(i).copyButton)==null?void 0:u.iconCopied,size:"18",class:"copied"},null,8,["name"])):(h(),E(p,{key:1,name:(f=k(i).copyButton)==null?void 0:f.iconCopy,size:"18"},null,8,["name"]))]}),_:1})])],2)}}}),ye=L(ve,[["__scopeId","data-v-c3e91f7c"]]),ge={key:0,class:"filename"},we=T({__name:"ProseCode",props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]}},setup(e){const t=g(!1);return(a,n)=>{const i=ye;return h(),A("div",{class:O([[`highlight-${e.language}`],"prose-code"]),onMouseenter:n[0]||(n[0]=o=>t.value=!0),onMouseleave:n[1]||(n[1]=o=>t.value=!1)},[e.filename?(h(),A("span",ge,ee(e.filename),1)):te("",!0),ne(a.$slots,"default",{},void 0,!0),$(i,{show:t.value,content:e.code,class:"copy-button"},null,8,["show","content"])],34)}}}),_e=L(we,[["__scopeId","data-v-4f2aceaf"]]);export{_e as default};
